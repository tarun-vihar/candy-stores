




<div class="jumbotron">

    <h2 class="display-4"><%= @shop.shop_name %></h2>
   
    <p class="lead"> <%= @shop.address %></p>
    <p class="lead"> Number of shelves = <%= @shop.shelves_count ? @shop.shelves_count : 0 %></p>
    <hr class="my-4">

  <% if !@shelves.blank? %>
      <table class="table table-striped table-bordered table-hover">
        <caption><b><%= @shop.shop_name %> </b>Shelf Details</caption>
        <thead class="table-dark">
          <tr>
            <th> S. No </th>
            <th>Shelf name</th>
            <th>Number Of Candies</th>
            <th colspan="3"></th>
          </tr>
        </thead>

        <tbody>
          <% @shelves.each_with_index do |shelf, index| %>
            <tr>
              <td><%= index+1 %>
              <td><%= shelf.shelf_name %></td>
              <td><%= shelf.candies_count ? shelf.candies_count : 0 %></td>
              <td><%= link_to 'Show Candies', :controller => :candies, :action=> :index , :shelf_id => shelf.id %></td>
              <td><%= link_to 'Edit', edit_shelf_path(shelf) %></td>
              <td><%= link_to 'Destroy', shelf, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    
    <% else %>
      <h2> No shelves  in <%= @shop.shop_name %> </h2>
      <br/>
      <br/>
    <% end %>
  
    <%= link_to 'Add New Shelf', new_shelf_path(:id => @shop.id), class:"btn btn-primary" %> 
    <%= link_to 'Add New Candy', new_candy_path(:id => @shop.id), class:"btn btn-primary" %>  
    <%= link_to 'Show Unshelved Candies', unshelved_candies_path(:id => @shop.id), class:'btn btn-info' %>
    <%= link_to 'Home', shops_path, class:'btn btn-warning' %>
</div>



